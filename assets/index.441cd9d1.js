import{z as fe,_ as kn,a as Vn,o as Kn,c as Hn,b as K,w as H,g as Q,p as Qn,j as Gn,k as Xn}from"./index.f348e44f.js";function ue(X){throw new Error('Could not dynamically require "'+X+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $e={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(X,be){(function(F){X.exports=F()})(function(){return function F(L,W,E){function B(N,m){if(!W[N]){if(!L[N]){var d=typeof ue=="function"&&ue;if(!m&&d)return d(N,!0);if(b)return b(N,!0);var h=new Error("Cannot find module '"+N+"'");throw h.code="MODULE_NOT_FOUND",h}var R=W[N]={exports:{}};L[N][0].call(R.exports,function(D){var z=L[N][1][D];return B(z||D)},R,R.exports,F,L,W,E)}return W[N].exports}for(var b=typeof ue=="function"&&ue,T=0;T<E.length;T++)B(E[T]);return B}({1:[function(F,L,W){(function(E){var B=E.MutationObserver||E.WebKitMutationObserver,b;if(B){var T=0,N=new B(D),m=E.document.createTextNode("");N.observe(m,{characterData:!0}),b=function(){m.data=T=++T%2}}else if(!E.setImmediate&&typeof E.MessageChannel<"u"){var d=new E.MessageChannel;d.port1.onmessage=D,b=function(){d.port2.postMessage(0)}}else"document"in E&&"onreadystatechange"in E.document.createElement("script")?b=function(){var x=E.document.createElement("script");x.onreadystatechange=function(){D(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},E.document.documentElement.appendChild(x)}:b=function(){setTimeout(D,0)};var h,R=[];function D(){h=!0;for(var x,$,C=R.length;C;){for($=R,R=[],x=-1;++x<C;)$[x]();C=R.length}h=!1}L.exports=z;function z(x){R.push(x)===1&&!h&&b()}}).call(this,typeof fe<"u"?fe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(F,L,W){var E=F(1);function B(){}var b={},T=["REJECTED"],N=["FULFILLED"],m=["PENDING"];L.exports=d;function d(l){if(typeof l!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,l!==B&&z(this,l)}d.prototype.catch=function(l){return this.then(null,l)},d.prototype.then=function(l,g){if(typeof l!="function"&&this.state===N||typeof g!="function"&&this.state===T)return this;var p=new this.constructor(B);if(this.state!==m){var I=this.state===N?l:g;R(p,I,this.outcome)}else this.queue.push(new h(p,l,g));return p};function h(l,g,p){this.promise=l,typeof g=="function"&&(this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled),typeof p=="function"&&(this.onRejected=p,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(l){b.resolve(this.promise,l)},h.prototype.otherCallFulfilled=function(l){R(this.promise,this.onFulfilled,l)},h.prototype.callRejected=function(l){b.reject(this.promise,l)},h.prototype.otherCallRejected=function(l){R(this.promise,this.onRejected,l)};function R(l,g,p){E(function(){var I;try{I=g(p)}catch(O){return b.reject(l,O)}I===l?b.reject(l,new TypeError("Cannot resolve promise with itself")):b.resolve(l,I)})}b.resolve=function(l,g){var p=x(D,g);if(p.status==="error")return b.reject(l,p.value);var I=p.value;if(I)z(l,I);else{l.state=N,l.outcome=g;for(var O=-1,P=l.queue.length;++O<P;)l.queue[O].callFulfilled(g)}return l},b.reject=function(l,g){l.state=T,l.outcome=g;for(var p=-1,I=l.queue.length;++p<I;)l.queue[p].callRejected(g);return l};function D(l){var g=l&&l.then;if(l&&(typeof l=="object"||typeof l=="function")&&typeof g=="function")return function(){g.apply(l,arguments)}}function z(l,g){var p=!1;function I(U){p||(p=!0,b.reject(l,U))}function O(U){p||(p=!0,b.resolve(l,U))}function P(){g(O,I)}var M=x(P);M.status==="error"&&I(M.value)}function x(l,g){var p={};try{p.value=l(g),p.status="success"}catch(I){p.status="error",p.value=I}return p}d.resolve=$;function $(l){return l instanceof this?l:b.resolve(new this(B),l)}d.reject=C;function C(l){var g=new this(B);return b.reject(g,l)}d.all=ce;function ce(l){var g=this;if(Object.prototype.toString.call(l)!=="[object Array]")return this.reject(new TypeError("must be an array"));var p=l.length,I=!1;if(!p)return this.resolve([]);for(var O=new Array(p),P=0,M=-1,U=new this(B);++M<p;)k(l[M],M);return U;function k(ne,oe){g.resolve(ne).then(se,function(q){I||(I=!0,b.reject(U,q))});function se(q){O[oe]=q,++P===p&&!I&&(I=!0,b.resolve(U,O))}}}d.race=Z;function Z(l){var g=this;if(Object.prototype.toString.call(l)!=="[object Array]")return this.reject(new TypeError("must be an array"));var p=l.length,I=!1;if(!p)return this.resolve([]);for(var O=-1,P=new this(B);++O<p;)M(l[O]);return P;function M(U){g.resolve(U).then(function(k){I||(I=!0,b.resolve(P,k))},function(k){I||(I=!0,b.reject(P,k))})}}},{1:1}],3:[function(F,L,W){(function(E){typeof E.Promise!="function"&&(E.Promise=F(2))}).call(this,typeof fe<"u"?fe:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(F,L,W){var E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function B(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function b(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var T=b();function N(){try{if(!T||!T.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),r=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||r)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function m(e,r){e=e||[],r=r||{};try{return new Blob(e,r)}catch(t){if(t.name!=="TypeError")throw t;for(var n=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,o=new n,a=0;a<e.length;a+=1)o.append(e[a]);return o.getBlob(r.type)}}typeof Promise>"u"&&F(3);var d=Promise;function h(e,r){r&&e.then(function(n){r(null,n)},function(n){r(n)})}function R(e,r,n){typeof r=="function"&&e.then(r),typeof n=="function"&&e.catch(n)}function D(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function z(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var x="local-forage-detect-blob-support",$=void 0,C={},ce=Object.prototype.toString,Z="readonly",l="readwrite";function g(e){for(var r=e.length,n=new ArrayBuffer(r),o=new Uint8Array(n),a=0;a<r;a++)o[a]=e.charCodeAt(a);return n}function p(e){return new d(function(r){var n=e.transaction(x,l),o=m([""]);n.objectStore(x).put(o,"key"),n.onabort=function(a){a.preventDefault(),a.stopPropagation(),r(!1)},n.oncomplete=function(){var a=navigator.userAgent.match(/Chrome\/(\d+)/),t=navigator.userAgent.match(/Edge\//);r(t||!a||parseInt(a[1],10)>=43)}}).catch(function(){return!1})}function I(e){return typeof $=="boolean"?d.resolve($):p(e).then(function(r){return $=r,$})}function O(e){var r=C[e.name],n={};n.promise=new d(function(o,a){n.resolve=o,n.reject=a}),r.deferredOperations.push(n),r.dbReady?r.dbReady=r.dbReady.then(function(){return n.promise}):r.dbReady=n.promise}function P(e){var r=C[e.name],n=r.deferredOperations.pop();if(n)return n.resolve(),n.promise}function M(e,r){var n=C[e.name],o=n.deferredOperations.pop();if(o)return o.reject(r),o.promise}function U(e,r){return new d(function(n,o){if(C[e.name]=C[e.name]||Ie(),e.db)if(r)O(e),e.db.close();else return n(e.db);var a=[e.name];r&&a.push(e.version);var t=T.open.apply(T,a);r&&(t.onupgradeneeded=function(i){var f=t.result;try{f.createObjectStore(e.storeName),i.oldVersion<=1&&f.createObjectStore(x)}catch(u){if(u.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+i.oldVersion+" to version "+i.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw u}}),t.onerror=function(i){i.preventDefault(),o(t.error)},t.onsuccess=function(){var i=t.result;i.onversionchange=function(f){f.target.close()},n(i),P(e)}})}function k(e){return U(e,!1)}function ne(e){return U(e,!0)}function oe(e,r){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),o=e.version<e.db.version,a=e.version>e.db.version;if(o&&(e.version!==r&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),a||n){if(n){var t=e.db.version+1;t>e.version&&(e.version=t)}return!0}return!1}function se(e){return new d(function(r,n){var o=new FileReader;o.onerror=n,o.onloadend=function(a){var t=btoa(a.target.result||"");r({__local_forage_encoded_blob:!0,data:t,type:e.type})},o.readAsBinaryString(e)})}function q(e){var r=g(atob(e.data));return m([r],{type:e.type})}function we(e){return e&&e.__local_forage_encoded_blob}function ke(e){var r=this,n=r._initReady().then(function(){var o=C[r._dbInfo.name];if(o&&o.dbReady)return o.dbReady});return R(n,e,e),n}function Ve(e){O(e);for(var r=C[e.name],n=r.forages,o=0;o<n.length;o++){var a=n[o];a._dbInfo.db&&(a._dbInfo.db.close(),a._dbInfo.db=null)}return e.db=null,k(e).then(function(t){return e.db=t,oe(e)?ne(e):t}).then(function(t){e.db=r.db=t;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=t}).catch(function(t){throw M(e,t),t})}function V(e,r,n,o){o===void 0&&(o=1);try{var a=e.db.transaction(e.storeName,r);n(null,a)}catch(t){if(o>0&&(!e.db||t.name==="InvalidStateError"||t.name==="NotFoundError"))return d.resolve().then(function(){if(!e.db||t.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ne(e)}).then(function(){return Ve(e).then(function(){V(e,r,n,o-1)})}).catch(n);n(t)}}function Ie(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Ke(e){var r=this,n={db:null};if(e)for(var o in e)n[o]=e[o];var a=C[n.name];a||(a=Ie(),C[n.name]=a),a.forages.push(r),r._initReady||(r._initReady=r.ready,r.ready=ke);var t=[];function i(){return d.resolve()}for(var f=0;f<a.forages.length;f++){var u=a.forages[f];u!==r&&t.push(u._initReady().catch(i))}var c=a.forages.slice(0);return d.all(t).then(function(){return n.db=a.db,k(n)}).then(function(s){return n.db=s,oe(n,r._defaultConfig.version)?ne(n):s}).then(function(s){n.db=a.db=s,r._dbInfo=n;for(var v=0;v<c.length;v++){var y=c[v];y!==r&&(y._dbInfo.db=n.db,y._dbInfo.version=n.version)}})}function He(e,r){var n=this;e=D(e);var o=new d(function(a,t){n.ready().then(function(){V(n._dbInfo,Z,function(i,f){if(i)return t(i);try{var u=f.objectStore(n._dbInfo.storeName),c=u.get(e);c.onsuccess=function(){var s=c.result;s===void 0&&(s=null),we(s)&&(s=q(s)),a(s)},c.onerror=function(){t(c.error)}}catch(s){t(s)}})}).catch(t)});return h(o,r),o}function Qe(e,r){var n=this,o=new d(function(a,t){n.ready().then(function(){V(n._dbInfo,Z,function(i,f){if(i)return t(i);try{var u=f.objectStore(n._dbInfo.storeName),c=u.openCursor(),s=1;c.onsuccess=function(){var v=c.result;if(v){var y=v.value;we(y)&&(y=q(y));var _=e(y,v.key,s++);_!==void 0?a(_):v.continue()}else a()},c.onerror=function(){t(c.error)}}catch(v){t(v)}})}).catch(t)});return h(o,r),o}function Ge(e,r,n){var o=this;e=D(e);var a=new d(function(t,i){var f;o.ready().then(function(){return f=o._dbInfo,ce.call(r)==="[object Blob]"?I(f.db).then(function(u){return u?r:se(r)}):r}).then(function(u){V(o._dbInfo,l,function(c,s){if(c)return i(c);try{var v=s.objectStore(o._dbInfo.storeName);u===null&&(u=void 0);var y=v.put(u,e);s.oncomplete=function(){u===void 0&&(u=null),t(u)},s.onabort=s.onerror=function(){var _=y.error?y.error:y.transaction.error;i(_)}}catch(_){i(_)}})}).catch(i)});return h(a,n),a}function Xe(e,r){var n=this;e=D(e);var o=new d(function(a,t){n.ready().then(function(){V(n._dbInfo,l,function(i,f){if(i)return t(i);try{var u=f.objectStore(n._dbInfo.storeName),c=u.delete(e);f.oncomplete=function(){a()},f.onerror=function(){t(c.error)},f.onabort=function(){var s=c.error?c.error:c.transaction.error;t(s)}}catch(s){t(s)}})}).catch(t)});return h(o,r),o}function je(e){var r=this,n=new d(function(o,a){r.ready().then(function(){V(r._dbInfo,l,function(t,i){if(t)return a(t);try{var f=i.objectStore(r._dbInfo.storeName),u=f.clear();i.oncomplete=function(){o()},i.onabort=i.onerror=function(){var c=u.error?u.error:u.transaction.error;a(c)}}catch(c){a(c)}})}).catch(a)});return h(n,e),n}function Je(e){var r=this,n=new d(function(o,a){r.ready().then(function(){V(r._dbInfo,Z,function(t,i){if(t)return a(t);try{var f=i.objectStore(r._dbInfo.storeName),u=f.count();u.onsuccess=function(){o(u.result)},u.onerror=function(){a(u.error)}}catch(c){a(c)}})}).catch(a)});return h(n,e),n}function Ze(e,r){var n=this,o=new d(function(a,t){if(e<0){a(null);return}n.ready().then(function(){V(n._dbInfo,Z,function(i,f){if(i)return t(i);try{var u=f.objectStore(n._dbInfo.storeName),c=!1,s=u.openKeyCursor();s.onsuccess=function(){var v=s.result;if(!v){a(null);return}e===0||c?a(v.key):(c=!0,v.advance(e))},s.onerror=function(){t(s.error)}}catch(v){t(v)}})}).catch(t)});return h(o,r),o}function qe(e){var r=this,n=new d(function(o,a){r.ready().then(function(){V(r._dbInfo,Z,function(t,i){if(t)return a(t);try{var f=i.objectStore(r._dbInfo.storeName),u=f.openKeyCursor(),c=[];u.onsuccess=function(){var s=u.result;if(!s){o(c);return}c.push(s.key),s.continue()},u.onerror=function(){a(u.error)}}catch(s){a(s)}})}).catch(a)});return h(n,e),n}function en(e,r){r=z.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var o=this,a;if(!e.name)a=d.reject("Invalid arguments");else{var t=e.name===n.name&&o._dbInfo.db,i=t?d.resolve(o._dbInfo.db):k(e).then(function(f){var u=C[e.name],c=u.forages;u.db=f;for(var s=0;s<c.length;s++)c[s]._dbInfo.db=f;return f});e.storeName?a=i.then(function(f){if(!!f.objectStoreNames.contains(e.storeName)){var u=f.version+1;O(e);var c=C[e.name],s=c.forages;f.close();for(var v=0;v<s.length;v++){var y=s[v];y._dbInfo.db=null,y._dbInfo.version=u}var _=new d(function(w,A){var S=T.open(e.name,u);S.onerror=function(Y){var te=S.result;te.close(),A(Y)},S.onupgradeneeded=function(){var Y=S.result;Y.deleteObjectStore(e.storeName)},S.onsuccess=function(){var Y=S.result;Y.close(),w(Y)}});return _.then(function(w){c.db=w;for(var A=0;A<s.length;A++){var S=s[A];S._dbInfo.db=w,P(S._dbInfo)}}).catch(function(w){throw(M(e,w)||d.resolve()).catch(function(){}),w})}}):a=i.then(function(f){O(e);var u=C[e.name],c=u.forages;f.close();for(var s=0;s<c.length;s++){var v=c[s];v._dbInfo.db=null}var y=new d(function(_,w){var A=T.deleteDatabase(e.name);A.onerror=function(){var S=A.result;S&&S.close(),w(A.error)},A.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},A.onsuccess=function(){var S=A.result;S&&S.close(),_(S)}});return y.then(function(_){u.db=_;for(var w=0;w<c.length;w++){var A=c[w];P(A._dbInfo)}}).catch(function(_){throw(M(e,_)||d.resolve()).catch(function(){}),_})})}return h(a,r),a}var nn={_driver:"asyncStorage",_initStorage:Ke,_support:N(),iterate:Qe,getItem:He,setItem:Ge,removeItem:Xe,clear:je,length:Je,key:Ze,keys:qe,dropInstance:en};function rn(){return typeof openDatabase=="function"}var j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tn="~~local_forage_type~",Ee=/^~~local_forage_type~([^~]+)~/,ae="__lfsc__:",le=ae.length,de="arbf",ve="blob",Se="si08",Re="ui08",Ae="uic8",Ne="si16",De="si32",xe="ur16",Te="ui32",Ce="fl32",Be="fl64",Oe=le+de.length,Le=Object.prototype.toString;function Pe(e){var r=e.length*.75,n=e.length,o,a=0,t,i,f,u;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var c=new ArrayBuffer(r),s=new Uint8Array(c);for(o=0;o<n;o+=4)t=j.indexOf(e[o]),i=j.indexOf(e[o+1]),f=j.indexOf(e[o+2]),u=j.indexOf(e[o+3]),s[a++]=t<<2|i>>4,s[a++]=(i&15)<<4|f>>2,s[a++]=(f&3)<<6|u&63;return c}function he(e){var r=new Uint8Array(e),n="",o;for(o=0;o<r.length;o+=3)n+=j[r[o]>>2],n+=j[(r[o]&3)<<4|r[o+1]>>4],n+=j[(r[o+1]&15)<<2|r[o+2]>>6],n+=j[r[o+2]&63];return r.length%3===2?n=n.substring(0,n.length-1)+"=":r.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}function on(e,r){var n="";if(e&&(n=Le.call(e)),e&&(n==="[object ArrayBuffer]"||e.buffer&&Le.call(e.buffer)==="[object ArrayBuffer]")){var o,a=ae;e instanceof ArrayBuffer?(o=e,a+=de):(o=e.buffer,n==="[object Int8Array]"?a+=Se:n==="[object Uint8Array]"?a+=Re:n==="[object Uint8ClampedArray]"?a+=Ae:n==="[object Int16Array]"?a+=Ne:n==="[object Uint16Array]"?a+=xe:n==="[object Int32Array]"?a+=De:n==="[object Uint32Array]"?a+=Te:n==="[object Float32Array]"?a+=Ce:n==="[object Float64Array]"?a+=Be:r(new Error("Failed to get type for BinaryArray"))),r(a+he(o))}else if(n==="[object Blob]"){var t=new FileReader;t.onload=function(){var i=tn+e.type+"~"+he(this.result);r(ae+ve+i)},t.readAsArrayBuffer(e)}else try{r(JSON.stringify(e))}catch(i){console.error("Couldn't convert value into a JSON string: ",e),r(null,i)}}function an(e){if(e.substring(0,le)!==ae)return JSON.parse(e);var r=e.substring(Oe),n=e.substring(le,Oe),o;if(n===ve&&Ee.test(r)){var a=r.match(Ee);o=a[1],r=r.substring(a[0].length)}var t=Pe(r);switch(n){case de:return t;case ve:return m([t],{type:o});case Se:return new Int8Array(t);case Re:return new Uint8Array(t);case Ae:return new Uint8ClampedArray(t);case Ne:return new Int16Array(t);case xe:return new Uint16Array(t);case De:return new Int32Array(t);case Te:return new Uint32Array(t);case Ce:return new Float32Array(t);case Be:return new Float64Array(t);default:throw new Error("Unkown type: "+n)}}var me={serialize:on,deserialize:an,stringToBuffer:Pe,bufferToString:he};function Fe(e,r,n,o){e.executeSql("CREATE TABLE IF NOT EXISTS "+r.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,o)}function fn(e){var r=this,n={db:null};if(e)for(var o in e)n[o]=typeof e[o]!="string"?e[o].toString():e[o];var a=new d(function(t,i){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(f){return i(f)}n.db.transaction(function(f){Fe(f,n,function(){r._dbInfo=n,t()},function(u,c){i(c)})},i)});return n.serializer=me,a}function J(e,r,n,o,a,t){e.executeSql(n,o,a,function(i,f){f.code===f.SYNTAX_ERR?i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[r.storeName],function(u,c){c.rows.length?t(u,f):Fe(u,r,function(){u.executeSql(n,o,a,t)},t)},t):t(i,f)},t)}function un(e,r){var n=this;e=D(e);var o=new d(function(a,t){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(f){J(f,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],function(u,c){var s=c.rows.length?c.rows.item(0).value:null;s&&(s=i.serializer.deserialize(s)),a(s)},function(u,c){t(c)})})}).catch(t)});return h(o,r),o}function cn(e,r){var n=this,o=new d(function(a,t){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(f){J(f,i,"SELECT * FROM "+i.storeName,[],function(u,c){for(var s=c.rows,v=s.length,y=0;y<v;y++){var _=s.item(y),w=_.value;if(w&&(w=i.serializer.deserialize(w)),w=e(w,_.key,y+1),w!==void 0){a(w);return}}a()},function(u,c){t(c)})})}).catch(t)});return h(o,r),o}function Me(e,r,n,o){var a=this;e=D(e);var t=new d(function(i,f){a.ready().then(function(){r===void 0&&(r=null);var u=r,c=a._dbInfo;c.serializer.serialize(r,function(s,v){v?f(v):c.db.transaction(function(y){J(y,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,s],function(){i(u)},function(_,w){f(w)})},function(y){if(y.code===y.QUOTA_ERR){if(o>0){i(Me.apply(a,[e,u,n,o-1]));return}f(y)}})})}).catch(f)});return h(t,n),t}function sn(e,r,n){return Me.apply(this,[e,r,n,1])}function ln(e,r){var n=this;e=D(e);var o=new d(function(a,t){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(f){J(f,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],function(){a()},function(u,c){t(c)})})}).catch(t)});return h(o,r),o}function dn(e){var r=this,n=new d(function(o,a){r.ready().then(function(){var t=r._dbInfo;t.db.transaction(function(i){J(i,t,"DELETE FROM "+t.storeName,[],function(){o()},function(f,u){a(u)})})}).catch(a)});return h(n,e),n}function vn(e){var r=this,n=new d(function(o,a){r.ready().then(function(){var t=r._dbInfo;t.db.transaction(function(i){J(i,t,"SELECT COUNT(key) as c FROM "+t.storeName,[],function(f,u){var c=u.rows.item(0).c;o(c)},function(f,u){a(u)})})}).catch(a)});return h(n,e),n}function hn(e,r){var n=this,o=new d(function(a,t){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(f){J(f,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],function(u,c){var s=c.rows.length?c.rows.item(0).key:null;a(s)},function(u,c){t(c)})})}).catch(t)});return h(o,r),o}function mn(e){var r=this,n=new d(function(o,a){r.ready().then(function(){var t=r._dbInfo;t.db.transaction(function(i){J(i,t,"SELECT key FROM "+t.storeName,[],function(f,u){for(var c=[],s=0;s<u.rows.length;s++)c.push(u.rows.item(s).key);o(c)},function(f,u){a(u)})})}).catch(a)});return h(n,e),n}function yn(e){return new d(function(r,n){e.transaction(function(o){o.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(a,t){for(var i=[],f=0;f<t.rows.length;f++)i.push(t.rows.item(f).name);r({db:e,storeNames:i})},function(a,t){n(t)})},function(o){n(o)})})}function pn(e,r){r=z.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var o=this,a;return e.name?a=new d(function(t){var i;e.name===n.name?i=o._dbInfo.db:i=openDatabase(e.name,"","",0),e.storeName?t({db:i,storeNames:[e.storeName]}):t(yn(i))}).then(function(t){return new d(function(i,f){t.db.transaction(function(u){function c(_){return new d(function(w,A){u.executeSql("DROP TABLE IF EXISTS "+_,[],function(){w()},function(S,Y){A(Y)})})}for(var s=[],v=0,y=t.storeNames.length;v<y;v++)s.push(c(t.storeNames[v]));d.all(s).then(function(){i()}).catch(function(_){f(_)})},function(u){f(u)})})}):a=d.reject("Invalid arguments"),h(a,r),a}var gn={_driver:"webSQLStorage",_initStorage:fn,_support:rn(),iterate:cn,getItem:un,setItem:sn,removeItem:ln,clear:dn,length:vn,key:hn,keys:mn,dropInstance:pn};function _n(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ue(e,r){var n=e.name+"/";return e.storeName!==r.storeName&&(n+=e.storeName+"/"),n}function bn(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function wn(){return!bn()||localStorage.length>0}function In(e){var r=this,n={};if(e)for(var o in e)n[o]=e[o];return n.keyPrefix=Ue(e,r._defaultConfig),wn()?(r._dbInfo=n,n.serializer=me,d.resolve()):d.reject()}function En(e){var r=this,n=r.ready().then(function(){for(var o=r._dbInfo.keyPrefix,a=localStorage.length-1;a>=0;a--){var t=localStorage.key(a);t.indexOf(o)===0&&localStorage.removeItem(t)}});return h(n,e),n}function Sn(e,r){var n=this;e=D(e);var o=n.ready().then(function(){var a=n._dbInfo,t=localStorage.getItem(a.keyPrefix+e);return t&&(t=a.serializer.deserialize(t)),t});return h(o,r),o}function Rn(e,r){var n=this,o=n.ready().then(function(){for(var a=n._dbInfo,t=a.keyPrefix,i=t.length,f=localStorage.length,u=1,c=0;c<f;c++){var s=localStorage.key(c);if(s.indexOf(t)===0){var v=localStorage.getItem(s);if(v&&(v=a.serializer.deserialize(v)),v=e(v,s.substring(i),u++),v!==void 0)return v}}});return h(o,r),o}function An(e,r){var n=this,o=n.ready().then(function(){var a=n._dbInfo,t;try{t=localStorage.key(e)}catch{t=null}return t&&(t=t.substring(a.keyPrefix.length)),t});return h(o,r),o}function Nn(e){var r=this,n=r.ready().then(function(){for(var o=r._dbInfo,a=localStorage.length,t=[],i=0;i<a;i++){var f=localStorage.key(i);f.indexOf(o.keyPrefix)===0&&t.push(f.substring(o.keyPrefix.length))}return t});return h(n,e),n}function Dn(e){var r=this,n=r.keys().then(function(o){return o.length});return h(n,e),n}function xn(e,r){var n=this;e=D(e);var o=n.ready().then(function(){var a=n._dbInfo;localStorage.removeItem(a.keyPrefix+e)});return h(o,r),o}function Tn(e,r,n){var o=this;e=D(e);var a=o.ready().then(function(){r===void 0&&(r=null);var t=r;return new d(function(i,f){var u=o._dbInfo;u.serializer.serialize(r,function(c,s){if(s)f(s);else try{localStorage.setItem(u.keyPrefix+e,c),i(t)}catch(v){(v.name==="QuotaExceededError"||v.name==="NS_ERROR_DOM_QUOTA_REACHED")&&f(v),f(v)}})})});return h(a,n),a}function Cn(e,r){if(r=z.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var o=this,a;return e.name?a=new d(function(t){e.storeName?t(Ue(e,o._defaultConfig)):t(e.name+"/")}).then(function(t){for(var i=localStorage.length-1;i>=0;i--){var f=localStorage.key(i);f.indexOf(t)===0&&localStorage.removeItem(f)}}):a=d.reject("Invalid arguments"),h(a,r),a}var Bn={_driver:"localStorageWrapper",_initStorage:In,_support:_n(),iterate:Rn,getItem:Sn,setItem:Tn,removeItem:xn,clear:En,length:Dn,key:An,keys:Nn,dropInstance:Cn},On=function(r,n){return r===n||typeof r=="number"&&typeof n=="number"&&isNaN(r)&&isNaN(n)},Ln=function(r,n){for(var o=r.length,a=0;a<o;){if(On(r[a],n))return!0;a++}return!1},Ye=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},re={},ze={},ee={INDEXEDDB:nn,WEBSQL:gn,LOCALSTORAGE:Bn},Pn=[ee.INDEXEDDB._driver,ee.WEBSQL._driver,ee.LOCALSTORAGE._driver],ie=["dropInstance"],ye=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ie),Fn={description:"",driver:Pn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Mn(e,r){e[r]=function(){var n=arguments;return e.ready().then(function(){return e[r].apply(e,n)})}}function pe(){for(var e=1;e<arguments.length;e++){var r=arguments[e];if(r)for(var n in r)r.hasOwnProperty(n)&&(Ye(r[n])?arguments[0][n]=r[n].slice():arguments[0][n]=r[n])}return arguments[0]}var Un=function(){function e(r){B(this,e);for(var n in ee)if(ee.hasOwnProperty(n)){var o=ee[n],a=o._driver;this[n]=a,re[a]||this.defineDriver(o)}this._defaultConfig=pe({},Fn),this._config=pe({},this._defaultConfig,r),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(n){if((typeof n>"u"?"undefined":E(n))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var o in n){if(o==="storeName"&&(n[o]=n[o].replace(/\W/g,"_")),o==="version"&&typeof n[o]!="number")return new Error("Database version must be a number.");this._config[o]=n[o]}return"driver"in n&&n.driver?this.setDriver(this._config.driver):!0}else return typeof n=="string"?this._config[n]:this._config},e.prototype.defineDriver=function(n,o,a){var t=new d(function(i,f){try{var u=n._driver,c=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!n._driver){f(c);return}for(var s=ye.concat("_initStorage"),v=0,y=s.length;v<y;v++){var _=s[v],w=!Ln(ie,_);if((w||n[_])&&typeof n[_]!="function"){f(c);return}}var A=function(){for(var te=function(Wn){return function(){var $n=new Error("Method "+Wn+" is not implemented by the current driver"),We=d.reject($n);return h(We,arguments[arguments.length-1]),We}},ge=0,zn=ie.length;ge<zn;ge++){var _e=ie[ge];n[_e]||(n[_e]=te(_e))}};A();var S=function(te){re[u]&&console.info("Redefining LocalForage driver: "+u),re[u]=n,ze[u]=te,i()};"_support"in n?n._support&&typeof n._support=="function"?n._support().then(S,f):S(!!n._support):S(!0)}catch(Y){f(Y)}});return R(t,o,a),t},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(n,o,a){var t=re[n]?d.resolve(re[n]):d.reject(new Error("Driver not found."));return R(t,o,a),t},e.prototype.getSerializer=function(n){var o=d.resolve(me);return R(o,n),o},e.prototype.ready=function(n){var o=this,a=o._driverSet.then(function(){return o._ready===null&&(o._ready=o._initDriver()),o._ready});return R(a,n,n),a},e.prototype.setDriver=function(n,o,a){var t=this;Ye(n)||(n=[n]);var i=this._getSupportedDrivers(n);function f(){t._config.driver=t.driver()}function u(v){return t._extend(v),f(),t._ready=t._initStorage(t._config),t._ready}function c(v){return function(){var y=0;function _(){for(;y<v.length;){var w=v[y];return y++,t._dbInfo=null,t._ready=null,t.getDriver(w).then(u).catch(_)}f();var A=new Error("No available storage method found.");return t._driverSet=d.reject(A),t._driverSet}return _()}}var s=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=s.then(function(){var v=i[0];return t._dbInfo=null,t._ready=null,t.getDriver(v).then(function(y){t._driver=y._driver,f(),t._wrapLibraryMethodsWithReady(),t._initDriver=c(i)})}).catch(function(){f();var v=new Error("No available storage method found.");return t._driverSet=d.reject(v),t._driverSet}),R(this._driverSet,o,a),this._driverSet},e.prototype.supports=function(n){return!!ze[n]},e.prototype._extend=function(n){pe(this,n)},e.prototype._getSupportedDrivers=function(n){for(var o=[],a=0,t=n.length;a<t;a++){var i=n[a];this.supports(i)&&o.push(i)}return o},e.prototype._wrapLibraryMethodsWithReady=function(){for(var n=0,o=ye.length;n<o;n++)Mn(this,ye[n])},e.prototype.createInstance=function(n){return new e(n)},e}(),Yn=new Un;L.exports=Yn},{3:3}]},{},[4])(4)})})($e);const G=$e.exports;const jn=X=>(Qn("data-v-a2dea4ea"),X=X(),Gn(),X),Jn={class:"demo16"},Zn=jn(()=>Xn("div",null,"IndexedDB",-1)),qn={__name:"index",setup(X){const be=()=>{G.setItem("somekey","some value").then(function(m){console.log("setItem",m)}).catch(function(m){console.log(m)})},F=()=>{G.getItem("somekey").then(function(m){console.log("getItem",m)}).catch(function(m){console.log(m)})},L=()=>{G.removeItem("somekey").then(function(){console.log("Key is cleared!")}).catch(function(m){console.log(m)})},W=()=>{G.clear().then(function(){console.log("Database is now empty.")}).catch(function(m){console.log(m)})},E=()=>{G.length().then(function(m){console.log(m)}).catch(function(m){console.log(m)})},B=()=>{G.key(0).then(function(m){console.log(m)}).catch(function(m){console.log(m)})},b=()=>{G.keys().then(function(m){console.log(m)}).catch(function(m){console.log(m)})},T=()=>{G.iterate(function(m,d,h){console.log([d,m],h)}).then(function(){console.log("Iteration has completed")}).catch(function(m){console.log(m)})},N=()=>{var m=G.createInstance({name:"nameHere"});m.setItem("key","value")};return(m,d)=>{const h=Vn("el-button");return Kn(),Hn("div",Jn,[Zn,K(h,{onClick:be},{default:H(()=>[Q("\u5B58\u5165")]),_:1}),K(h,{onClick:F},{default:H(()=>[Q("\u8BFB\u53D6")]),_:1}),K(h,{onClick:L},{default:H(()=>[Q("\u5220\u9664")]),_:1}),K(h,{onClick:W},{default:H(()=>[Q("\u6E05\u9664")]),_:1}),K(h,{onClick:E},{default:H(()=>[Q("\u83B7\u53D6\u79BB\u7EBF\u4ED3\u5E93\u4E2D\u7684 key \u7684\u6570\u91CF")]),_:1}),K(h,{onClick:B},{default:H(()=>[Q("\u6839\u636E key \u7684\u7D22\u5F15\u83B7\u53D6\u5176\u540D")]),_:1}),K(h,{onClick:b},{default:H(()=>[Q("\u6839\u636E\u6240\u6709 keys \u7684\u7D22\u5F15\u83B7\u53D6\u5176\u540D")]),_:1}),K(h,{onClick:T},{default:H(()=>[Q("\u8FED\u4EE3\u6570\u636E\u4ED3\u5E93\u4E2D\u7684\u6240\u6709 value/key \u952E\u503C\u5BF9")]),_:1}),K(h,{onClick:N},{default:H(()=>[Q("\u521B\u5EFA\u5E76\u8FD4\u56DE\u4E00\u4E2A localForage \u7684\u65B0\u5B9E\u4F8B")]),_:1})])}}},rr=kn(qn,[["__scopeId","data-v-a2dea4ea"]]);export{rr as default};
