import{_ as M,o as r,c as d,k as u,F as x,x as g,B as m,D as f,C as X}from"./index.f348e44f.js";const Y={data(){return{boxes:[],selecting:!1,startX:null,startY:null,endX:null,endY:null,point:{startX:0,startY:0,top:0,left:0,width:0,height:0}}},mounted(){for(let t=0;t<30;t++)this.boxes.push({selected:!1})},methods:{handleMouseDown(t){t.preventDefault(),this.selecting=!0,this.point.top=t.clientY,this.point.left=t.clientX,this.point.startX=t.x,this.point.startY=t.y,this.startX=t.clientX,this.startY=t.clientY,this.endX=t.clientX,this.endY=t.clientY,this.updateSelection()},handleMouseMove(t){t.preventDefault(),this.selecting&&(this.point.width=Math.abs(t.x-this.point.startX),this.point.height=Math.abs(t.y-this.point.startY),this.endX=t.clientX,this.endY=t.clientY,this.updateSelection())},handleMouseUp(t){t.preventDefault(),this.point.width=0,this.point.height=0,this.point.top=0,this.point.left=0,this.point.startX=0,this.point.startY=0,this.selecting=!1},handleMouseEnter(t){this.selecting&&this.updateSelection()},updateSelection(){this.$nextTick(()=>{const t=document.querySelector(".container"),s=t.getBoundingClientRect(),h=Math.min(this.startX,this.endX)-s.left,a=Math.min(this.startY,this.endY)-s.top,n=Math.abs(this.endX-this.startX),i=Math.abs(this.endY-this.startY);for(let e=0;e<this.boxes.length;e++){const o=this.boxes[e],l=t.children[e].getBoundingClientRect(),c=l.left-s.left,p=l.top-s.top;c+l.width>=h&&c<=h+n&&p+l.height>=a&&p<=a+i?o.selected=!0:o.selected=!1}})}}},_=["onMouseenter"];function b(t,s,h,a,n,i){return r(),d("div",null,[u("div",{class:"container",onMousedown:s[0]||(s[0]=(...e)=>i.handleMouseDown&&i.handleMouseDown(...e)),onMousemove:s[1]||(s[1]=(...e)=>i.handleMouseMove&&i.handleMouseMove(...e)),onMouseup:s[2]||(s[2]=(...e)=>i.handleMouseUp&&i.handleMouseUp(...e))},[(r(!0),d(x,null,g(n.boxes,(e,o)=>(r(),d("div",{key:o,class:m(["box",{selected:e.selected}]),style:f({marginLeft:o%5===0?"20px":"0"}),onMouseenter:l=>i.handleMouseEnter(o)},X(o+1),47,_))),128))],32),u("div",{ref:"movableDom",style:f({"--top":n.point.top+"px","--left":n.point.left+"px","--width":n.point.width+"px","--height":n.point.height+"px"}),class:"move"},null,4)])}const y=M(Y,[["render",b],["__scopeId","data-v-d5c15860"]]);export{y as default};
